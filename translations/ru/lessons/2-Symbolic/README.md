<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "98c5222ff9556b55223fed2337145e18",
  "translation_date": "2025-08-26T06:49:52+00:00",
  "source_file": "lessons/2-Symbolic/README.md",
  "language_code": "ru"
}
-->
# Представление знаний и экспертные системы

![Обзор содержания о символическом ИИ](../../../../translated_images/ai-symbolic.715a30cb610411a6964d2e2f23f24364cb338a07cb4844c1f97084d366e586c3.ru.png)

> Скетчноут от [Tomomi Imura](https://twitter.com/girlie_mac)

Поиск искусственного интеллекта основан на стремлении к знаниям, чтобы понимать мир так же, как это делают люди. Но как это можно осуществить?

## [Тест перед лекцией](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/102)

В первые дни развития ИИ был популярен подход сверху вниз (обсуждался в предыдущем уроке) для создания интеллектуальных систем. Идея заключалась в том, чтобы извлечь знания у людей в машиночитаемую форму, а затем использовать их для автоматического решения задач. Этот подход основывался на двух ключевых идеях:

* Представление знаний
* Рассуждение

## Представление знаний

Одной из важных концепций в символическом ИИ являются **знания**. Важно отличать знания от *информации* или *данных*. Например, можно сказать, что книги содержат знания, потому что, изучая их, можно стать экспертом. Однако то, что содержится в книгах, на самом деле называется *данными*, и, читая книги и интегрируя эти данные в нашу модель мира, мы превращаем их в знания.

> ✅ **Знания** — это то, что находится в нашей голове и представляет наше понимание мира. Они приобретаются в процессе активного **обучения**, который интегрирует полученную информацию в нашу активную модель мира.

Чаще всего мы не даем строгого определения знаниям, но соотносим их с другими связанными концепциями, используя [пирамиду DIKW](https://en.wikipedia.org/wiki/DIKW_pyramid). Она включает следующие уровни:

* **Данные** — это то, что представлено на физическом носителе, например, в виде текста или устной речи. Данные существуют независимо от человека и могут передаваться между людьми.
* **Информация** — это то, как мы интерпретируем данные в своей голове. Например, услышав слово *компьютер*, мы имеем некоторое представление о том, что это такое.
* **Знания** — это информация, интегрированная в нашу модель мира. Например, узнав, что такое компьютер, мы начинаем понимать, как он работает, сколько стоит и для чего его можно использовать. Эта сеть взаимосвязанных понятий формирует наши знания.
* **Мудрость** — это еще более высокий уровень понимания мира, представляющий собой *метазнания*, например, знание о том, как и когда использовать имеющиеся знания.

*Изображение [из Википедии](https://commons.wikimedia.org/w/index.php?curid=37705247), автор Longlivetheux - Собственная работа, CC BY-SA 4.0*

Таким образом, задача **представления знаний** заключается в том, чтобы найти эффективный способ представления знаний внутри компьютера в виде данных, чтобы они могли использоваться автоматически. Это можно представить как спектр:

![Спектр представления знаний](../../../../translated_images/knowledge-spectrum.b60df631852c0217e941485b79c9eee40ebd574f15f18609cec5758fcb384bf3.ru.png)

> Изображение от [Dmitry Soshnikov](http://soshnikov.com)

* Слева находятся очень простые типы представления знаний, которые могут эффективно использоваться компьютерами. Самый простой из них — алгоритмический, когда знания представлены в виде компьютерной программы. Однако это не самый гибкий способ представления знаний, так как знания в нашей голове часто не алгоритмичны.
* Справа находятся такие представления, как естественный текст. Это самый мощный способ, но он не подходит для автоматического рассуждения.

> ✅ Подумайте минуту о том, как вы представляете знания в своей голове и превращаете их в заметки. Есть ли формат, который помогает вам лучше запоминать?

## Классификация представлений знаний в компьютере

Мы можем классифицировать различные методы представления знаний в компьютере следующим образом:

* **Сетевые представления** основаны на том, что в нашей голове существует сеть взаимосвязанных понятий. Мы можем попытаться воспроизвести такие же сети в виде графа в компьютере — так называемую **семантическую сеть**.

1. **Тройки объект-атрибут-значение** или **пары атрибут-значение**. Поскольку граф можно представить в компьютере в виде списка узлов и связей, семантическую сеть можно представить списком троек, содержащих объекты, атрибуты и значения. Например, мы можем создать следующие тройки о языках программирования:

Объект | Атрибут | Значение
-------|---------|---------
Python | является | Языком без типов
Python | изобретен | Гвидо ван Россумом
Python | синтаксис блоков | отступы
Язык без типов | не имеет | определения типов

> ✅ Подумайте, как тройки могут быть использованы для представления других типов знаний.

2. **Иерархические представления** подчеркивают тот факт, что мы часто создаем иерархию объектов в своей голове. Например, мы знаем, что канарейка — это птица, и все птицы имеют крылья. Мы также знаем, какого цвета обычно канарейки и с какой скоростью они летают.

   - **Представление в виде фреймов** основано на представлении каждого объекта или класса объектов в виде **фрейма**, который содержит **слоты**. Слоты могут иметь значения по умолчанию, ограничения на значения или хранимые процедуры, которые можно вызвать для получения значения слота. Все фреймы образуют иерархию, похожую на иерархию объектов в объектно-ориентированных языках программирования.
   - **Сценарии** — это особый вид фреймов, которые представляют сложные ситуации, разворачивающиеся во времени.

**Python**

Слот | Значение | Значение по умолчанию | Интервал
-----|---------|-----------------------|---------
Имя | Python | | 
Является | Языком без типов | | 
Регистр переменных | | CamelCase | 
Длина программы | | | 5-5000 строк
Синтаксис блоков | Отступ | | 

3. **Процедурные представления** основаны на представлении знаний в виде списка действий, которые можно выполнить при наступлении определенного условия.
   - Правила продукций — это утверждения "если-то", которые позволяют делать выводы. Например, у врача может быть правило: **ЕСЛИ** у пациента высокая температура **ИЛИ** высокий уровень С-реактивного белка в анализе крови, **ТО** у него воспаление. Как только одно из условий выполняется, можно сделать вывод о воспалении и использовать его для дальнейших рассуждений.
   - Алгоритмы можно считать другой формой процедурного представления, хотя они почти никогда не используются напрямую в системах, основанных на знаниях.

4. **Логика** изначально была предложена Аристотелем как способ представления универсальных человеческих знаний.
   - Предикатная логика как математическая теория слишком богата, чтобы быть вычислимой, поэтому обычно используется ее подмножество, например, Хорновы клаузы, применяемые в Prolog.
   - Описательная логика — это семейство логических систем, используемых для представления и рассуждения об иерархиях объектов в распределенных представлениях знаний, таких как *семантическая паутина*.

## Экспертные системы

Одним из ранних успехов символического ИИ стали так называемые **экспертные системы** — компьютерные системы, разработанные для работы в качестве эксперта в ограниченной предметной области. Они основывались на **базе знаний**, извлеченной у одного или нескольких человеческих экспертов, и содержали **выводящий механизм**, который выполнял рассуждения на ее основе.

![Архитектура человека](../../../../translated_images/arch-human.5d4d35f1bba3ab1cdfda96af2f10b89574eb31e9796d0e3011cd9beda1c35112.ru.png) | ![Система на основе знаний](../../../../translated_images/arch-kbs.3ec5c150b09fa8dadc2beb0931a4983c9e2b03913a89eebcc103b5bb841b0212.ru.png)
---------------------------------------------|-----------------------------------------------
Упрощенная структура нервной системы человека | Архитектура системы на основе знаний

Экспертные системы построены по аналогии с системой рассуждений человека, которая содержит **кратковременную память** и **долговременную память**. Аналогично, в системах на основе знаний выделяют следующие компоненты:

* **Память проблемы**: содержит знания о текущей решаемой проблеме, например, температуру или кровяное давление пациента, есть ли у него воспаление и т.д. Эти знания также называются **статическими**, так как они представляют собой снимок того, что мы знаем о проблеме в данный момент — так называемое *состояние проблемы*.
* **База знаний**: представляет собой долговременные знания о предметной области. Она извлекается вручную у человеческих экспертов и не меняется от одной консультации к другой. Поскольку она позволяет переходить от одного состояния проблемы к другому, ее также называют **динамическими знаниями**.
* **Выводящий механизм**: управляет всем процессом поиска в пространстве состояний проблемы, задавая вопросы пользователю при необходимости. Он также отвечает за нахождение подходящих правил для каждого состояния.

В качестве примера рассмотрим следующую экспертную систему для определения животного на основе его физических характеристик:

![Дерево И-ИЛИ](../../../../translated_images/AND-OR-Tree.5592d2c70187f283703c8e9c0d69d6a786eb370f4ace67f9a7aae5ada3d260b0.ru.png)

> Изображение от [Dmitry Soshnikov](http://soshnikov.com)

Эта диаграмма называется **деревом И-ИЛИ** и представляет собой графическое отображение набора правил продукций. Рисование дерева полезно на начальном этапе извлечения знаний у эксперта. Для представления знаний внутри компьютера удобнее использовать правила:

```
IF the animal eats meat
OR (animal has sharp teeth
    AND animal has claws
    AND animal has forward-looking eyes
) 
THEN the animal is a carnivore
```

Вы можете заметить, что каждое условие в левой части правила и действие представляют собой тройки объект-атрибут-значение (OAV). **Рабочая память** содержит набор троек OAV, соответствующих текущей решаемой проблеме. **Механизм правил** ищет правила, для которых условие выполнено, и применяет их, добавляя новую тройку в рабочую память.

> ✅ Нарисуйте свое собственное дерево И-ИЛИ на тему, которая вам интересна!

### Прямой и обратный вывод

Описанный выше процесс называется **прямым выводом**. Он начинается с некоторой начальной информации о проблеме, доступной в рабочей памяти, и затем выполняет следующий цикл рассуждений:

1. Если целевой атрибут присутствует в рабочей памяти — остановиться и выдать результат.
2. Найти все правила, условия которых выполнены — получить **конфликтное множество** правил.
3. Выполнить **разрешение конфликта** — выбрать одно правило, которое будет выполнено на этом шаге. Возможны разные стратегии разрешения конфликта:
   - Выбрать первое применимое правило в базе знаний.
   - Выбрать случайное правило.
   - Выбрать *более специфичное* правило, т.е. то, которое удовлетворяет наибольшему числу условий в левой части (LHS).
4. Применить выбранное правило и добавить новый фрагмент знаний в состояние проблемы.
5. Повторить с шага 1.

Однако в некоторых случаях мы можем захотеть начать с отсутствия знаний о проблеме и задавать вопросы, которые помогут прийти к выводу. Например, при медицинской диагностике мы обычно не проводим все анализы заранее, прежде чем начать диагностику пациента. Мы скорее хотим проводить анализы, когда нужно принять решение.

Этот процесс можно смоделировать с помощью **обратного вывода**. Он управляется **целью** — значением атрибута, которое мы хотим найти:

1. Выбрать все правила, которые могут дать значение цели (т.е. с целью в правой части (RHS)) — конфликтное множество.
2. Если для этого атрибута нет правил или есть правило, указывающее на необходимость спросить значение у пользователя — спросить его, иначе:
3. Использовать стратегию разрешения конфликта, чтобы выбрать одно правило, которое мы будем использовать как *гипотезу* — мы попытаемся доказать его.
4. Рекурсивно повторить процесс для всех атрибутов в левой части правила, пытаясь доказать их как цели.
5. Если в какой-то момент процесс не удается — использовать другое правило на шаге 3.

> ✅ В каких ситуациях более уместен прямой вывод? А обратный вывод?

### Реализация экспертных систем

Экспертные системы можно реализовать с помощью различных инструментов:

* Программирование их напрямую на каком-либо высокоуровневом языке программирования. Это не лучший вариант, так как главное преимущество системы на основе знаний заключается в том, что знания отделены от вывода, и потенциально эксперт в предметной области должен иметь возможность писать правила, не понимая деталей процесса вывода.
* Использование **оболочки экспертной системы**, т.е. системы, специально разработанной для заполнения знаниями с использованием языка представления знаний.

## ✍️ Упражнение: Вывод о животных

См. [Animals.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/Animals.ipynb) для примера реализации экспертной системы с прямым и обратным выводом.
> **Примечание**: Этот пример довольно простой и лишь дает представление о том, как выглядит экспертная система. Когда вы начнете создавать такую систему, вы заметите проявление некоторого *интеллектуального* поведения только после достижения определенного количества правил, примерно 200+. В какой-то момент правила становятся слишком сложными, чтобы держать их все в голове, и тогда вы можете начать задаваться вопросом, почему система принимает те или иные решения. Однако важной характеристикой систем, основанных на знаниях, является то, что вы всегда можете *объяснить*, как именно было принято любое из решений.
## Онтологии и Семантическая Веб

В конце XX века появилась инициатива использовать представление знаний для аннотирования интернет-ресурсов, чтобы можно было находить ресурсы, соответствующие очень специфическим запросам. Это движение получило название **Семантическая Веб**, и оно основывалось на нескольких концепциях:

- Специальное представление знаний, основанное на **[логиках описания](https://en.wikipedia.org/wiki/Description_logic)** (DL). Оно похоже на фреймовое представление знаний, так как строит иерархию объектов с их свойствами, но имеет формальную логическую семантику и вывод. Существует целое семейство логик описания, которые балансируют между выразительностью и алгоритмической сложностью вывода.
- Распределённое представление знаний, где все концепции представлены глобальными URI-идентификаторами, что позволяет создавать иерархии знаний, охватывающие весь интернет.
- Семейство языков на основе XML для описания знаний: RDF (Resource Description Framework), RDFS (RDF Schema), OWL (Ontology Web Language).

Ключевым понятием в Семантической Веб является **онтология**. Это явное описание предметной области с использованием формального представления знаний. Самая простая онтология может быть просто иерархией объектов в предметной области, но более сложные онтологии включают правила, которые можно использовать для вывода.

В Семантической Веб все представления основаны на триплетах. Каждый объект и каждая связь уникально идентифицируются URI. Например, если мы хотим указать факт, что этот учебный курс по ИИ был разработан Дмитрием Сошниковым 1 января 2022 года, вот триплеты, которые мы можем использовать:

<img src="images/triplet.png" width="30%"/>

```
http://github.com/microsoft/ai-for-beginners http://www.example.com/terms/creation-date “Jan 13, 2007”
http://github.com/microsoft/ai-for-beginners http://purl.org/dc/elements/1.1/creator http://soshnikov.com
```

> ✅ Здесь `http://www.example.com/terms/creation-date` и `http://purl.org/dc/elements/1.1/creator` — это известные и общепринятые URI для выражения понятий *создатель* и *дата создания*.

В более сложном случае, если мы хотим определить список создателей, мы можем использовать некоторые структуры данных, определённые в RDF.

<img src="images/triplet-complex.png" width="40%"/>

> Диаграммы выше созданы [Дмитрием Сошниковым](http://soshnikov.com)

Прогресс в создании Семантической Веб был несколько замедлен успехом поисковых систем и методов обработки естественного языка, которые позволяют извлекать структурированные данные из текста. Однако в некоторых областях всё ещё предпринимаются значительные усилия для поддержания онтологий и баз знаний. Несколько проектов, заслуживающих внимания:

* [WikiData](https://wikidata.org/) — это коллекция машиночитаемых баз знаний, связанных с Википедией. Большая часть данных извлекается из *Инфобоксов* Википедии, структурированных элементов контента на страницах Википедии. Вы можете [запросить](https://query.wikidata.org/) данные WikiData с помощью SPARQL, специального языка запросов для Семантической Веб. Вот пример запроса, который отображает самые популярные цвета глаз среди людей:

```sparql
#defaultView:BubbleChart
SELECT ?eyeColorLabel (COUNT(?human) AS ?count)
WHERE
{
  ?human wdt:P31 wd:Q5.       # human instance-of homo sapiens
  ?human wdt:P1340 ?eyeColor. # human eye-color ?eyeColor
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
GROUP BY ?eyeColorLabel
```

* [DBpedia](https://www.dbpedia.org/) — ещё одна инициатива, похожая на WikiData.

> ✅ Если вы хотите поэкспериментировать с созданием собственных онтологий или открытием существующих, существует отличный визуальный редактор онтологий под названием [Protégé](https://protege.stanford.edu/). Скачайте его или используйте онлайн.

<img src="images/protege.png" width="70%"/>

*Веб-редактор Protégé с открытой онтологией семьи Романовых. Скриншот Дмитрия Сошникова*

## ✍️ Упражнение: Онтология семьи

См. [FamilyOntology.ipynb](https://github.com/Ezana135/AI-For-Beginners/blob/main/lessons/2-Symbolic/FamilyOntology.ipynb) для примера использования методов Семантической Веб для анализа семейных отношений. Мы возьмём генеалогическое древо, представленное в формате GEDCOM, и онтологию семейных отношений, чтобы построить граф всех семейных связей для заданного набора людей.

## Граф концепций Microsoft

В большинстве случаев онтологии создаются вручную. Однако также возможно **извлекать** онтологии из неструктурированных данных, например, из текстов на естественном языке.

Одна из таких попыток была предпринята Microsoft Research и привела к созданию [Microsoft Concept Graph](https://blogs.microsoft.com/ai/microsoft-researchers-release-graph-that-helps-machines-conceptualize/?WT.mc_id=academic-77998-cacaste).

Это большая коллекция сущностей, сгруппированных с использованием отношения наследования `is-a`. Она позволяет отвечать на вопросы вроде "Что такое Microsoft?" — ответ будет что-то вроде "компания с вероятностью 0.87 и бренд с вероятностью 0.75".

Граф доступен либо через REST API, либо в виде большого текстового файла, содержащего все пары сущностей.

## ✍️ Упражнение: Граф концепций

Попробуйте блокнот [MSConceptGraph.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/MSConceptGraph.ipynb), чтобы увидеть, как можно использовать Microsoft Concept Graph для группировки новостных статей по категориям.

## Заключение

Сегодня ИИ часто ассоциируется с *машинным обучением* или *нейронными сетями*. Однако человек также демонстрирует явное рассуждение, что в настоящее время не реализовано в нейронных сетях. В реальных проектах явное рассуждение всё ещё используется для выполнения задач, требующих объяснений или возможности контролируемо изменять поведение системы.

## 🚀 Задание

В блокноте Family Ontology, связанном с этим уроком, есть возможность поэкспериментировать с другими семейными связями. Попробуйте обнаружить новые связи между людьми в генеалогическом древе.

## [Тест после лекции](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/202)

## Обзор и самостоятельное изучение

Проведите исследование в интернете, чтобы узнать, в каких областях люди пытались количественно оценить и формализовать знания. Ознакомьтесь с таксономией Блума и изучите, как в истории люди пытались осмыслить окружающий мир. Изучите работу Линнея по созданию таксономии организмов и обратите внимание на то, как Дмитрий Менделеев создал способ описания и группировки химических элементов. Какие ещё интересные примеры вы можете найти?

**Задание**: [Создайте онтологию](assignment.md)

**Отказ от ответственности**:  
Этот документ был переведен с использованием сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Хотя мы стремимся к точности, пожалуйста, учитывайте, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные интерпретации, возникающие в результате использования данного перевода.