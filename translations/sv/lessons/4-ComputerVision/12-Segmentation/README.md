<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d7f8a25ff13cfe9f4cd671cc23351fad",
  "translation_date": "2025-08-28T15:24:58+00:00",
  "source_file": "lessons/4-ComputerVision/12-Segmentation/README.md",
  "language_code": "sv"
}
-->
# Segmentering

Vi har tidigare l√§rt oss om Objektidentifiering, som g√∂r det m√∂jligt att lokalisera objekt i en bild genom att f√∂ruts√§ga deras *begr√§nsningsramar*. Men f√∂r vissa uppgifter beh√∂ver vi inte bara begr√§nsningsramar, utan ocks√• mer exakt objektlokalisering. Denna uppgift kallas **segmentering**.

## [Pre-lecture quiz](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/112)

Segmentering kan ses som **pixelklassificering**, d√§r vi f√∂r **varje** pixel i bilden m√•ste f√∂ruts√§ga dess klass (*bakgrund* √§r en av klasserna). Det finns tv√• huvudsakliga segmenteringsalgoritmer:

* **Semantisk segmentering** anger endast pixelklassen och g√∂r ingen skillnad mellan olika objekt av samma klass.
* **Instancesegmentering** delar upp klasser i olika instanser.

Vid instancesegmentering √§r dessa f√•r olika objekt, men vid semantisk segmentering representeras alla f√•r av en och samma klass.

<img src="images/instance_vs_semantic.jpeg" width="50%">

> Bild fr√•n [denna bloggpost](https://nirmalamurali.medium.com/image-classification-vs-semantic-segmentation-vs-instance-segmentation-625c33a08d50)

Det finns olika neurala arkitekturer f√∂r segmentering, men de har alla samma struktur. P√• s√§tt och vis liknar det den autoencoder du tidigare l√§rt dig om, men ist√§llet f√∂r att dekonstruera den ursprungliga bilden √§r v√•rt m√•l att dekonstruera en **mask**. S√•ledes har ett segmenteringsn√§tverk f√∂ljande delar:

* **Encoder** extraherar funktioner fr√•n inmatningsbilden.
* **Decoder** omvandlar dessa funktioner till **maskbilden**, med samma storlek och antal kanaler som motsvarar antalet klasser.

<img src="images/segm.png" width="80%">

> Bild fr√•n [denna publikation](https://arxiv.org/pdf/2001.05566.pdf)

Vi b√∂r s√§rskilt n√§mna f√∂rlustfunktionen som anv√§nds f√∂r segmentering. N√§r vi anv√§nder klassiska autoencoders beh√∂ver vi m√§ta likheten mellan tv√• bilder, och vi kan anv√§nda medelkvadratfel (MSE) f√∂r att g√∂ra det. Vid segmentering representerar varje pixel i m√•lmaskbilden klassnumret (one-hot-kodad l√§ngs den tredje dimensionen), s√• vi beh√∂ver anv√§nda f√∂rlustfunktioner specifika f√∂r klassificering - korsentropif√∂rlust, genomsnittlig √∂ver alla pixlar. Om masken √§r bin√§r anv√§nds **bin√§r korsentropif√∂rlust** (BCE).

> ‚úÖ One-hot-kodning √§r ett s√§tt att koda en klassetikett till en vektor med l√§ngd som motsvarar antalet klasser. Ta en titt p√• [denna artikel](https://datagy.io/sklearn-one-hot-encode/) om denna teknik.

## Segmentering f√∂r Medicinsk Bildbehandling

I denna lektion kommer vi att se segmentering i praktiken genom att tr√§na n√§tverket att k√§nna igen m√§nskliga nevi (√§ven k√§nda som f√∂delsem√§rken) p√• medicinska bilder. Vi kommer att anv√§nda <a href="https://www.fc.up.pt/addi/ph2%20database.html">PH<sup>2</sup>-databasen</a> med dermoskopibilder som bildk√§lla. Denna datam√§ngd inneh√•ller 200 bilder av tre klasser: typisk nevus, atypisk nevus och melanom. Alla bilder inneh√•ller ocks√• en motsvarande **mask** som markerar nevusen.

> ‚úÖ Denna teknik √§r s√§rskilt l√§mplig f√∂r denna typ av medicinsk bildbehandling, men vilka andra verkliga till√§mpningar kan du f√∂rest√§lla dig?

<img alt="navi" src="images/navi.png"/>

> Bild fr√•n PH<sup>2</sup>-databasen

Vi kommer att tr√§na en modell f√∂r att segmentera vilken nevus som helst fr√•n dess bakgrund.

## ‚úçÔ∏è √ñvningar: Semantisk Segmentering

√ñppna anteckningsb√∂ckerna nedan f√∂r att l√§ra dig mer om olika semantiska segmenteringsarkitekturer, √∂va p√• att arbeta med dem och se dem i praktiken.

* [Semantic Segmentation Pytorch](SemanticSegmentationPytorch.ipynb)
* [Semantic Segmentation TensorFlow](SemanticSegmentationTF.ipynb)

## [Post-lecture quiz](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/212)

## Slutsats

Segmentering √§r en mycket kraftfull teknik f√∂r bildklassificering, som g√•r bortom begr√§nsningsramar till pixelniv√•klassificering. Det √§r en teknik som anv√§nds inom medicinsk bildbehandling, bland andra till√§mpningar.

## üöÄ Utmaning

Kroppssegmentering √§r bara en av de vanliga uppgifterna vi kan utf√∂ra med bilder av m√§nniskor. Andra viktiga uppgifter inkluderar **skelettdetektion** och **posedetektion**. Prova [OpenPose](https://github.com/CMU-Perceptual-Computing-Lab/openpose)-biblioteket f√∂r att se hur posedetektion kan anv√§ndas.

## Granskning & Sj√§lvstudier

Denna [Wikipedia-artikel](https://wikipedia.org/wiki/Image_segmentation) erbjuder en bra √∂versikt √∂ver de olika till√§mpningarna av denna teknik. L√§r dig mer p√• egen hand om subdom√§nerna Instancesegmentering och Panoptisk segmentering inom detta forskningsomr√•de.

## [Uppgift](lab/README.md)

I detta labb, prova **kroppssegmentering** med [Segmentation Full Body MADS Dataset](https://www.kaggle.com/datasets/tapakah68/segmentation-full-body-mads-dataset) fr√•n Kaggle.

---

**Ansvarsfriskrivning**:  
Detta dokument har √∂versatts med hj√§lp av AI-√∂vers√§ttningstj√§nsten [Co-op Translator](https://github.com/Azure/co-op-translator). √Ñven om vi str√§var efter noggrannhet, b√∂r du vara medveten om att automatiserade √∂vers√§ttningar kan inneh√•lla fel eller felaktigheter. Det ursprungliga dokumentet p√• dess originalspr√•k b√∂r betraktas som den auktoritativa k√§llan. F√∂r kritisk information rekommenderas professionell m√§nsklig √∂vers√§ttning. Vi ansvarar inte f√∂r eventuella missf√∂rst√•nd eller feltolkningar som uppst√•r vid anv√§ndning av denna √∂vers√§ttning.