<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "7d097f7fda9166ead615e4c34552381b",
  "translation_date": "2025-09-23T12:40:27+00:00",
  "source_file": "lessons/2-Symbolic/README.md",
  "language_code": "zh"
}
-->
# 知识表示与专家系统

![符号 AI 内容摘要](../../../../translated_images/ai-symbolic.715a30cb610411a6964d2e2f23f24364cb338a07cb4844c1f97084d366e586c3.zh.png)

> [Tomomi Imura](https://twitter.com/girlie_mac) 的手绘笔记

人工智能的探索基于对知识的追求，试图像人类一样理解世界。但如何实现这一目标呢？

## [课前测验](https://ff-quizzes.netlify.app/en/ai/quiz/3)

在人工智能的早期，创建智能系统的自上而下方法（在上一课中讨论过）非常流行。这种方法的核心思想是将人类的知识提取为机器可读的形式，然后利用这些知识自动解决问题。这种方法基于两个重要的理念：

* 知识表示
* 推理

## 知识表示

符号 AI 中一个重要的概念是**知识**。需要将知识与*信息*或*数据*区分开。例如，人们可以说书籍包含知识，因为通过学习书籍可以成为专家。然而，书籍中实际包含的是*数据*，通过阅读书籍并将这些数据整合到我们的世界模型中，我们将数据转化为知识。

> ✅ **知识**是我们头脑中包含的内容，代表我们对世界的理解。它通过主动的**学习**过程获得，将我们接收到的信息片段整合到我们对世界的活动模型中。

通常，我们不会严格定义知识，而是通过 [DIKW 金字塔](https://en.wikipedia.org/wiki/DIKW_pyramid)将其与其他相关概念对齐。金字塔包含以下概念：

* **数据**是以物理媒介表示的内容，例如书面文字或口头语言。数据独立于人类存在，可以在人与人之间传递。
* **信息**是我们在头脑中对数据的解释。例如，当我们听到“计算机”这个词时，我们对它有一定的理解。
* **知识**是信息被整合到我们的世界模型中。例如，一旦我们了解了什么是计算机，我们就开始对它的工作原理、价格以及用途有一些想法。这些相互关联的概念网络构成了我们的知识。
* **智慧**是我们对世界理解的更高层次，代表着*元知识*，例如关于如何以及何时使用知识的概念。

<img src="images/DIKW_Pyramid.png" width="30%"/>

*图片来源：[维基百科](https://commons.wikimedia.org/w/index.php?curid=37705247)，作者 Longlivetheux - 自制作品，CC BY-SA 4.0*

因此，**知识表示**的问题是找到一种有效的方法，将知识以数据的形式表示在计算机中，使其能够自动使用。这可以看作是一个光谱：

![知识表示光谱](../../../../translated_images/knowledge-spectrum.b60df631852c0217e941485b79c9eee40ebd574f15f18609cec5758fcb384bf3.zh.png)

> 图片来源：[Dmitry Soshnikov](http://soshnikov.com)

* 左侧是非常简单的知识表示类型，可以被计算机有效使用。最简单的是算法式表示，即通过计算机程序表示知识。然而，这并不是表示知识的最佳方式，因为它缺乏灵活性。我们头脑中的知识通常是非算法化的。
* 右侧是自然语言文本等表示方式。这种方式最强大，但无法用于自动推理。

> ✅ 想一想你是如何在头脑中表示知识并将其转化为笔记的。是否有某种格式能帮助你更好地记忆？

## 计算机知识表示的分类

我们可以将不同的计算机知识表示方法分为以下几类：

* **网络表示**基于我们头脑中存在相互关联的概念网络。我们可以尝试在计算机中以图的形式再现这些网络——即所谓的**语义网络**。

1. **对象-属性-值三元组**或**属性-值对**。由于图可以在计算机中表示为节点和边的列表，我们可以通过三元组列表表示语义网络，其中包含对象、属性和值。例如，我们可以构建以下关于编程语言的三元组：

对象 | 属性 | 值
-----|------|-----
Python | 是 | 无类型语言
Python | 发明者 | Guido van Rossum
Python | 块语法 | 缩进
无类型语言 | 没有 | 类型定义

> ✅ 想一想三元组如何用于表示其他类型的知识。

2. **层次表示**强调我们通常在头脑中创建对象的层次结构。例如，我们知道金丝雀是一种鸟类，而所有鸟类都有翅膀。我们还知道金丝雀通常是什么颜色，以及它们的飞行速度。

   - **框架表示**基于将每个对象或对象类别表示为一个**框架**，框架包含**槽**。槽可以有默认值、值限制或存储过程，这些过程可以被调用以获取槽的值。所有框架形成一个类似于面向对象编程语言中的对象层次结构。
   - **场景**是表示复杂情境的特殊框架，这些情境可以随着时间展开。

**Python**

槽 | 值 | 默认值 | 区间
---|----|--------|-----
名称 | Python | | 
是 | 无类型语言 | | 
变量命名 | | 驼峰命名 | 
程序长度 | | | 5-5000 行
块语法 | 缩进 | | 

3. **过程表示**基于通过一系列动作表示知识，这些动作可以在某些条件发生时执行。
   - 生产规则是允许我们得出结论的 if-then 语句。例如，医生可以有一个规则：**如果**患者发高烧**或**血液检测中 C 反应蛋白水平高**那么**他有炎症。一旦我们遇到其中一个条件，就可以得出关于炎症的结论，然后在进一步推理中使用它。
   - 算法可以被认为是另一种过程表示形式，尽管它们几乎从未直接用于基于知识的系统。

4. **逻辑**最初由亚里士多德提出，作为一种表示人类普遍知识的方法。
   - 谓词逻辑作为一种数学理论过于复杂而无法计算，因此通常使用它的某些子集，例如 Prolog 中使用的 Horn 子句。
   - 描述逻辑是一组逻辑系统，用于表示和推理对象层次结构以及分布式知识表示，例如*语义网*。

## 专家系统

符号 AI 的早期成功之一是所谓的**专家系统**——设计为在某些有限问题领域中充当专家的计算机系统。它们基于从一个或多个领域专家提取的**知识库**，并包含一个在其之上执行推理的**推理引擎**。

![人类架构](../../../../translated_images/arch-human.5d4d35f1bba3ab1cdfda96af2f10b89574eb31e9796d0e3011cd9beda1c35112.zh.png) | ![基于知识的系统架构](../../../../translated_images/arch-kbs.3ec5c150b09fa8dadc2beb0931a4983c9e2b03913a89eebcc103b5bb841b0212.zh.png)
----------------------------------|----------------------------------------
人类神经系统的简化结构         | 基于知识的系统的架构

专家系统的构建类似于人类的推理系统，其中包含**短期记忆**和**长期记忆**。同样，在基于知识的系统中，我们区分以下组件：

* **问题记忆**：包含当前正在解决的问题的知识，例如患者的体温或血压、是否有炎症等。这些知识也称为**静态知识**，因为它包含我们当前对问题的了解的快照——即所谓的*问题状态*。
* **知识库**：表示关于问题领域的长期知识。它是从领域专家手动提取的，并且不会因咨询而改变。由于它允许我们从一个问题状态导航到另一个问题状态，也被称为**动态知识**。
* **推理引擎**：协调整个搜索问题状态空间的过程，在必要时向用户提问。它还负责为每个状态找到适用的规则。

例如，让我们考虑以下基于动物物理特征的专家系统：

![AND-OR 树](../../../../translated_images/AND-OR-Tree.5592d2c70187f283703c8e9c0d69d6a786eb370f4ace67f9a7aae5ada3d260b0.zh.png)

> 图片来源：[Dmitry Soshnikov](http://soshnikov.com)

此图称为**AND-OR 树**，它是生产规则集的图形表示。在从专家提取知识的初期，绘制树图非常有用。为了在计算机中表示知识，使用规则会更方便：

```
IF the animal eats meat
OR (animal has sharp teeth
    AND animal has claws
    AND animal has forward-looking eyes
) 
THEN the animal is a carnivore
```

你会注意到规则左侧的每个条件和动作本质上都是对象-属性-值（OAV）三元组。**工作记忆**包含与当前正在解决的问题相关的 OAV 三元组集合。**规则引擎**寻找满足条件的规则并应用它们，将新的三元组添加到工作记忆中。

> ✅ 画一个你喜欢主题的 AND-OR 树！

### 前向推理与后向推理

上述过程称为**前向推理**。它从工作记忆中关于问题的初始数据开始，然后执行以下推理循环：

1. 如果目标属性存在于工作记忆中——停止并给出结果
2. 查找所有条件当前满足的规则——获得**冲突集**规则。
3. 执行**冲突解决**——选择一个将在此步骤中执行的规则。可能有不同的冲突解决策略：
   - 选择知识库中第一个适用的规则
   - 随机选择一个规则
   - 选择*更具体*的规则，即满足“左侧”（LHS）最多条件的规则
4. 应用选定规则并将新的知识片段插入问题状态
5. 从第 1 步重复。

然而，在某些情况下，我们可能希望从对问题的空白知识开始，并通过提问来帮助我们得出结论。例如，在进行医疗诊断时，我们通常不会在开始诊断患者之前提前进行所有医疗分析。我们更希望在需要做出决定时进行分析。

这种过程可以通过**后向推理**建模。它由**目标**驱动——即我们试图找到的属性值：

1. 选择所有可以给出目标值的规则（即目标在规则的 RHS（右侧））——冲突集
1. 如果没有关于此属性的规则，或者有规则表明我们应该向用户询问值——询问用户，否则：
1. 使用冲突解决策略选择一个规则作为*假设*——我们将尝试证明它
1. 递归地对规则 LHS 中的所有属性重复此过程，尝试将它们作为目标证明
1. 如果过程在任何时候失败——在第 3 步使用另一个规则。

> ✅ 在哪些情况下前向推理更合适？后向推理又适用于哪些情况？

### 实现专家系统

专家系统可以使用不同的工具实现：

* 直接使用某种高级编程语言编写。这不是最好的方法，因为基于知识的系统的主要优势在于知识与推理分离，并且领域专家应该能够在不了解推理过程细节的情况下编写规则。
* 使用**专家系统外壳**，即专门设计用于通过某种知识表示语言填充知识的系统。

## ✍️ 练习：动物推理

参见 [Animals.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/Animals.ipynb)，了解实现前向和后向推理专家系统的示例。

> **注意**：此示例相对简单，仅展示专家系统的基本概念。一旦你开始创建这样的系统，只有当规则数量达到一定规模（约 200+）时，你才会注意到系统表现出某种*智能*行为。在某些时候，规则变得过于复杂，难以全部记住，此时你可能会开始思考为什么系统会做出某些决策。然而，基于知识的系统的重要特性是你始终可以*解释*每个决策是如何做出的。

## 本体与语义网

20 世纪末，有一个倡议使用知识表示来标注互联网资源，以便能够找到与非常具体查询相对应的资源。这一运动被称为**语义网**，它依赖于几个概念：

- 基于**[描述逻辑](https://en.wikipedia.org/wiki/Description_logic)**（DL）的特殊知识表示。它类似于框架知识表示，因为它构建了一个具有属性的对象层次结构，但它具有形式逻辑语义和推理。描述逻辑有一个家族，它在表达能力和推理的算法复杂性之间取得平衡。
- 分布式知识表示，其中所有概念都由全局 URI 标识符表示，使得能够创建跨互联网的知识层次结构。
- 一组基于XML的知识描述语言：RDF（资源描述框架）、RDFS（RDF Schema）、OWL（Web本体语言）。

语义网的核心概念是**本体**。它指的是使用某种形式化知识表示对问题领域进行明确的规范。最简单的本体可以是问题领域中的对象层次结构，但更复杂的本体会包含可用于推理的规则。

在语义网中，所有表示都基于三元组。每个对象和每个关系都通过URI唯一标识。例如，如果我们想表达这个AI课程是由Dmitry Soshnikov在2022年1月1日开发的事实，可以使用以下三元组：

<img src="images/triplet.png" width="30%"/>

```
http://github.com/microsoft/ai-for-beginners http://www.example.com/terms/creation-date “Jan 13, 2007”
http://github.com/microsoft/ai-for-beginners http://purl.org/dc/elements/1.1/creator http://soshnikov.com
```

> ✅ 这里的 `http://www.example.com/terms/creation-date` 和 `http://purl.org/dc/elements/1.1/creator` 是一些公认的、通用的URI，用于表达*创建者*和*创建日期*的概念。

在更复杂的情况下，如果我们想定义一个创建者列表，可以使用RDF中定义的一些数据结构。

<img src="images/triplet-complex.png" width="40%"/>

> 上图由 [Dmitry Soshnikov](http://soshnikov.com) 提供

语义网的发展因搜索引擎和自然语言处理技术的成功而有所放缓，这些技术能够从文本中提取结构化数据。然而，在某些领域仍有显著努力来维护本体和知识库。以下是几个值得注意的项目：

* [WikiData](https://wikidata.org/) 是与维基百科相关的机器可读知识库集合。大部分数据来自维基百科的*信息框*，即维基百科页面中的结构化内容片段。你可以使用SPARQL（一种语义网的特殊查询语言）[查询](https://query.wikidata.org/)WikiData。以下是一个示例查询，显示人类中最常见的眼睛颜色：

```sparql
#defaultView:BubbleChart
SELECT ?eyeColorLabel (COUNT(?human) AS ?count)
WHERE
{
  ?human wdt:P31 wd:Q5.       # human instance-of homo sapiens
  ?human wdt:P1340 ?eyeColor. # human eye-color ?eyeColor
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
GROUP BY ?eyeColorLabel
```

* [DBpedia](https://www.dbpedia.org/) 是另一个类似于WikiData的项目。

> ✅ 如果你想尝试构建自己的本体，或打开现有的本体，有一个很棒的可视化本体编辑器叫 [Protégé](https://protege.stanford.edu/)。你可以下载它，或者在线使用。

<img src="images/protege.png" width="70%"/>

*Web Protégé编辑器打开了Romanov家族本体。截图由Dmitry Soshnikov提供*

## ✍️ 练习：家庭本体

参见 [FamilyOntology.ipynb](https://github.com/Ezana135/AI-For-Beginners/blob/main/lessons/2-Symbolic/FamilyOntology.ipynb)，了解如何使用语义网技术推理家庭关系。我们将使用常见的GEDCOM格式表示的家谱和家庭关系本体，为给定的一组个人构建所有家庭关系的图。

## Microsoft概念图

在大多数情况下，本体是由人工精心创建的。然而，也可以从非结构化数据中**挖掘**本体，例如从自然语言文本中。

微软研究院曾进行过这样的尝试，结果是 [Microsoft Concept Graph](https://blogs.microsoft.com/ai/microsoft-researchers-release-graph-that-helps-machines-conceptualize/?WT.mc_id=academic-77998-cacaste)。

这是一个使用`is-a`继承关系将实体分组的大型集合。它可以回答诸如“微软是什么？”这样的问题——答案可能是“一个公司，概率为0.87；一个品牌，概率为0.75”。

该图既可以通过REST API访问，也可以作为一个大型可下载的文本文件，列出所有实体对。

## ✍️ 练习：概念图

尝试 [MSConceptGraph.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/MSConceptGraph.ipynb) 笔记本，了解如何使用Microsoft概念图将新闻文章分组到几个类别中。

## 结论

如今，AI通常被认为是*机器学习*或*神经网络*的代名词。然而，人类也表现出显式推理，这是一种目前神经网络无法处理的能力。在实际项目中，显式推理仍然用于执行需要解释或能够以受控方式修改系统行为的任务。

## 🚀 挑战

在与本课相关的家庭本体笔记本中，有机会尝试其他家庭关系。尝试发现家谱中人物之间的新连接。

## [课后测验](https://ff-quizzes.netlify.app/en/ai/quiz/4)

## 回顾与自学

在互联网上进行一些研究，发现人类试图量化和编码知识的领域。了解布鲁姆分类法，并回顾历史，学习人类如何试图理解他们的世界。探索林奈斯的工作，了解他如何创建生物分类法，并观察德米特里·门捷列夫如何为化学元素创建描述和分组的方法。你还能找到哪些有趣的例子？

**作业**: [构建一个本体](assignment.md)

---

