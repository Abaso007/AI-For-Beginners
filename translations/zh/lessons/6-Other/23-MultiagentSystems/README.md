<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1ddf651d7681b4449f9d09ea3b17911e",
  "translation_date": "2025-08-24T20:36:14+00:00",
  "source_file": "lessons/6-Other/23-MultiagentSystems/README.md",
  "language_code": "zh"
}
-->
# 多智能体系统

实现智能的一种可能方法是所谓的**涌现**（或**协同**）方法，其基于这样一个事实：许多相对简单的智能体的组合行为可以导致整个系统表现出更复杂（或更智能）的行为。从理论上讲，这种方法基于[集体智能](https://en.wikipedia.org/wiki/Collective_intelligence)、[涌现论](https://en.wikipedia.org/wiki/Global_brain)和[进化控制论](https://en.wikipedia.org/wiki/Global_brain)的原则，这些理论认为，当低级系统被适当组合成高级系统时，会产生某种附加价值（即所谓的*元系统转变原则*）。

## [课前测验](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/123)

**多智能体系统**这一方向在1990年代因互联网和分布式系统的发展而在人工智能领域兴起。经典的人工智能教材之一[《人工智能：现代方法》](https://en.wikipedia.org/wiki/Artificial_Intelligence:_A_Modern_Approach)从多智能体系统的角度探讨了经典人工智能的视角。

多智能体方法的核心是**智能体**的概念——一个生活在某种**环境**中的实体，它可以感知环境并对其采取行动。这是一个非常广泛的定义，智能体可以有许多不同的类型和分类：

* 按其推理能力：
   - **反应型**智能体通常具有简单的请求-响应行为
   - **推理型**智能体具备某种逻辑推理和/或规划能力
* 按智能体执行代码的位置：
   - **静态**智能体在专用的网络节点上工作
   - **移动**智能体可以在网络节点之间移动其代码
* 按其行为：
   - **被动智能体**没有特定目标。这类智能体可以对外部刺激作出反应，但不会主动采取行动
   - **主动智能体**有一些目标并会努力实现
   - **认知智能体**涉及复杂的规划和推理

如今，多智能体系统被应用于许多领域：

* 在游戏中，许多非玩家角色（NPC）使用某种形式的人工智能，可以被视为智能体
* 在视频制作中，渲染涉及人群的复杂3D场景通常使用多智能体模拟
* 在系统建模中，多智能体方法用于模拟复杂模型的行为。例如，多智能体方法已成功用于预测COVID-19疾病在全球的传播。类似的方法也可以用来模拟城市交通，并观察其对交通规则变化的反应
* 在复杂的自动化系统中，每个设备可以作为一个独立的智能体，这使得整个系统不再是单一的，而是更加健壮

我们不会深入探讨多智能体系统，但会考虑一个**多智能体建模**的示例。

## NetLogo

[NetLogo](https://ccl.northwestern.edu/netlogo/) 是一个基于修改版 [Logo](https://en.wikipedia.org/wiki/Logo_(programming_language)) 编程语言的多智能体建模环境。该语言最初是为教授儿童编程概念而开发的，它允许你控制一个名为**乌龟**的智能体，该智能体可以移动并留下痕迹。这种方式可以创建复杂的几何图形，是一种非常直观的理解智能体行为的方法。

在 NetLogo 中，我们可以使用 `create-turtles` 命令创建许多乌龟。然后可以命令所有乌龟执行某些操作（例如下面的例子中，向前移动10个单位）：

```
create-turtles 10
ask turtles [
  forward 10
]
```

当然，如果所有乌龟都做同样的事情就没什么意思了，因此我们可以使用 `ask` 命令对某些特定的乌龟群体发出指令，例如那些在某个点附近的乌龟。我们还可以使用 `breed [cats cat]` 命令创建不同*种类*的乌龟。这里 `cat` 是种类的名称，我们需要同时指定单数和复数形式，因为不同的命令为了清晰会使用不同的形式。

> ✅ 我们不会深入学习 NetLogo 语言本身——如果你感兴趣，可以访问非常优秀的 [NetLogo 初学者交互式词典](https://ccl.northwestern.edu/netlogo/bind/)资源。

你可以[下载](https://ccl.northwestern.edu/netlogo/download.shtml)并安装 NetLogo 来尝试。

### 模型库

NetLogo 的一个优点是它包含一个可供尝试的工作模型库。进入 **File → Models Library**，你会发现许多类别的模型可供选择。

<img alt="NetLogo 模型库" src="images/NetLogo-ModelLib.png" width="60%"/>

> Dmitry Soshnikov 提供的模型库截图

你可以打开其中一个模型，例如 **Biology → Flocking**。

### 主要原理

打开模型后，你会进入 NetLogo 的主界面。以下是一个描述狼和羊种群在有限资源（草地）条件下的示例模型。

![NetLogo 主界面](../../../../../translated_images/NetLogo-Main.32653711ec1a01b3cab22ec0b148e64193d0b979b055285bef329d5e3d6958c5.zh.png)

> Dmitry Soshnikov 提供的截图

在这个界面上，你可以看到：

* **界面**部分包含：
  - 所有智能体生活的主场地
  - 不同的控件：按钮、滑块等
  - 用于显示模拟参数的图表
* **代码**选项卡包含编辑器，你可以在其中编写 NetLogo 程序

在大多数情况下，界面会有一个 **Setup** 按钮，用于初始化模拟状态，以及一个 **Go** 按钮，用于启动执行。这些按钮由代码中的相应处理程序处理，如下所示：

```
to go [
...
]
```

NetLogo 的世界由以下对象组成：

* **智能体**（乌龟），可以在场地上移动并执行操作。你可以使用 `ask turtles [...]` 语法命令智能体，方括号中的代码会以*乌龟模式*由所有智能体同时执行
* **地块**是场地上的方形区域，智能体生活在其上。你可以引用同一地块上的所有智能体，或者更改地块的颜色和其他属性。你也可以 `ask patches` 执行某些操作
* **观察者**是一个独特的智能体，负责控制整个世界。所有按钮处理程序都在*观察者模式*下执行

> ✅ 多智能体环境的美妙之处在于，运行在乌龟模式或地块模式下的代码会被所有智能体并行执行。因此，通过编写少量代码并编程单个智能体的行为，你可以创建整个模拟系统的复杂行为。

### 群体行为

作为多智能体行为的一个示例，我们来看**[群体行为](https://en.wikipedia.org/wiki/Flocking_(behavior))**。群体行为是一种复杂的模式，非常类似于鸟群飞行的方式。观察它们飞行时，你可能会认为它们遵循某种集体算法，或者拥有某种形式的*集体智能*。然而，这种复杂行为的产生仅仅是因为每个个体智能体（在这种情况下是*鸟*）只观察其附近一定距离内的其他智能体，并遵循以下三个简单规则：

* **对齐** - 朝邻近智能体的平均方向调整
* **凝聚** - 朝邻居的平均位置靠拢（*长距离吸引*）
* **分离** - 当与其他鸟靠得太近时，试图远离（*短距离排斥*）

你可以运行群体行为示例并观察其行为。你还可以调整参数，例如*分离程度*或*视距*，定义每只鸟能看到的范围。注意，如果你将视距减少到0，所有鸟都会变得“盲目”，群体行为会停止。如果将分离减少到0，所有鸟会聚集成一条直线。

> ✅ 切换到 **代码** 选项卡，查看群体行为的三个规则（对齐、凝聚和分离）在代码中的实现方式。注意我们如何仅引用视距内的智能体。

### 其他可查看的模型

还有一些有趣的模型可以供你实验：

* **Art → Fireworks** 展示了烟花如何被视为单个火流的集体行为
* **Social Science → Traffic Basic** 和 **Social Science → Traffic Grid** 展示了城市交通在1D和2D网格中有无交通信号灯的模型。模拟中的每辆车遵循以下规则：
   - 如果前方空间为空——加速（直到某个最大速度）
   - 如果看到前方有障碍物——刹车（你可以调整司机的视距）
* **Social Science → Party** 展示了人们在鸡尾酒会上如何聚集。你可以找到使群体幸福感最快提升的参数组合

从这些示例中可以看出，多智能体模拟是一种非常有用的方法，可以帮助理解由遵循相同或相似逻辑的个体组成的复杂系统的行为。它还可以用于控制虚拟智能体，例如计算机游戏中的[非玩家角色（NPC）](https://en.wikipedia.org/wiki/NPC)，或3D动画世界中的智能体。

## 推理型智能体

上述智能体非常简单，通过某种算法对环境变化作出反应，因此它们是**反应型智能体**。然而，有时智能体可以推理并规划其行动，这种情况下它们被称为**推理型智能体**。

一个典型的例子是接收人类指令预订度假行程的个人智能体。假设互联网上有许多可以帮助它的智能体。它需要联系其他智能体，查看有哪些航班可用，不同日期的酒店价格是多少，并尝试协商最优价格。当度假计划完成并得到主人确认后，它可以继续预订。

为了实现这一点，智能体需要**通信**。为了成功通信，它们需要：

* 一些用于交换知识的**标准语言**，例如[知识交换格式](https://en.wikipedia.org/wiki/Knowledge_Interchange_Format)（KIF）和[知识查询与操作语言](https://en.wikipedia.org/wiki/Knowledge_Query_and_Manipulation_Language)（KQML）。这些语言基于[言语行为理论](https://en.wikipedia.org/wiki/Speech_act)设计
* 这些语言还应包括一些基于不同**拍卖类型**的**协商协议**
* 一个**通用本体**，以便它们能够引用相同的概念并理解其语义
* 一种**发现**不同智能体功能的方法，也基于某种本体

推理型智能体比反应型智能体复杂得多，因为它们不仅对环境变化作出反应，还需要能够*主动*采取行动。一种被提出的推理型智能体架构是所谓的信念-愿望-意图（BDI）智能体：

* **信念**是关于智能体环境的一组知识。它可以被组织为知识库或一组规则，智能体可以将其应用于环境中的特定情况
* **愿望**定义了智能体想要做的事情，即其目标。例如，上述个人助手智能体的目标是预订旅行，而酒店智能体的目标是最大化利润
* **意图**是智能体为实现其目标而计划的具体行动。行动通常会改变环境并引发与其他智能体的通信

目前有一些平台可用于构建多智能体系统，例如 [JADE](https://jade.tilab.com/)。[这篇论文](https://arxiv.org/ftp/arxiv/papers/2007/2007.08961.pdf)包含了多智能体平台的综述，以及多智能体系统的简史及其不同的使用场景。

## 结论

多智能体系统可以采取多种形式，并应用于许多不同的领域。  
它们通常专注于单个智能体的简单行为，并通过**协同效应**实现整个系统的更复杂行为。

## 🚀 挑战

将本课内容应用于现实世界，尝试构思一个可以解决问题的多智能体系统。例如，一个多智能体系统需要做些什么来优化校车路线？它如何在面包店中工作？

## [课后测验](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/223)

## 复习与自学

复习此类系统在工业中的应用。选择一个领域，例如制造业或视频游戏行业，探索多智能体系统如何用于解决独特问题。

## [NetLogo 作业](assignment.md)

**免责声明**：  
本文档使用AI翻译服务[Co-op Translator](https://github.com/Azure/co-op-translator)进行翻译。尽管我们努力确保翻译的准确性，但请注意，自动翻译可能包含错误或不准确之处。应以原文档的原始语言版本为权威来源。对于关键信息，建议使用专业人工翻译。我们对因使用本翻译而引起的任何误解或误读不承担责任。