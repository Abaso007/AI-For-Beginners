<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "98c5222ff9556b55223fed2337145e18",
  "translation_date": "2025-08-24T21:18:05+00:00",
  "source_file": "lessons/2-Symbolic/README.md",
  "language_code": "ja"
}
-->
# 知識表現とエキスパートシステム

![シンボリックAIの内容概要](../../../../translated_images/ai-symbolic.715a30cb610411a6964d2e2f23f24364cb338a07cb4844c1f97084d366e586c3.ja.png)

> スケッチノート: [Tomomi Imura](https://twitter.com/girlie_mac)

人工知能の探求は、世界を人間のように理解するための知識の探求に基づいています。しかし、これをどのように実現するのでしょうか？

## [講義前のクイズ](https://ff-quizzes.netlify.app/en/ai/quiz/3)

AIの初期には、インテリジェントシステムを作成するためのトップダウンアプローチ（前回のレッスンで説明）が主流でした。このアイデアは、人々から知識を抽出して機械が読み取れる形式に変換し、それを使って自動的に問題を解決するというものでした。このアプローチは、以下の2つの大きなアイデアに基づいています：

* 知識表現
* 推論

## 知識表現

シンボリックAIの重要な概念の1つは**知識**です。知識を*情報*や*データ*と区別することが重要です。例えば、本が知識を含んでいると言うことができますが、それは本を学ぶことで専門家になれるからです。しかし、実際に本が含んでいるのは*データ*であり、本を読んでこのデータを私たちの世界モデルに統合することで、データを知識に変換します。

> ✅ **知識**とは、私たちの頭の中に含まれているもので、世界の理解を表します。それは、受け取った情報を私たちの世界モデルに統合する**学習**プロセスを通じて得られます。

多くの場合、知識を厳密に定義することはせず、[DIKWピラミッド](https://en.wikipedia.org/wiki/DIKW_pyramid)を使用して他の関連概念と整合させます。このピラミッドには以下の概念が含まれます：

* **データ**は、書かれたテキストや話された言葉など、物理的な媒体に表現されたものです。データは人間とは独立して存在し、人々の間で共有することができます。
* **情報**は、私たちが頭の中でデータを解釈する方法です。例えば、「コンピュータ」という言葉を聞いたとき、それが何であるかについての理解があります。
* **知識**は、情報が私たちの世界モデルに統合されたものです。例えば、コンピュータが何であるかを学ぶと、それがどのように動作するのか、いくらするのか、何に使えるのかについてのアイデアを持つようになります。この相互に関連する概念のネットワークが私たちの知識を形成します。
* **知恵**は、世界の理解のもう1つのレベルであり、*メタ知識*を表します。例えば、知識をどのように、いつ使うべきかについての概念です。

*画像 [Wikipediaより](https://commons.wikimedia.org/w/index.php?curid=37705247), By Longlivetheux - Own work, CC BY-SA 4.0*

したがって、**知識表現**の問題は、コンピュータ内でデータとして知識を効果的に表現し、自動的に利用可能にする方法を見つけることです。これは次のようなスペクトラムとして見ることができます：

![知識表現スペクトラム](../../../../translated_images/knowledge-spectrum.b60df631852c0217e941485b79c9eee40ebd574f15f18609cec5758fcb384bf3.ja.png)

> 画像: [Dmitry Soshnikov](http://soshnikov.com)

* 左側には、コンピュータが効果的に使用できる非常に単純なタイプの知識表現があります。最も単純なのはアルゴリズム的なもので、知識がコンピュータプログラムとして表現されます。しかし、これは知識を表現する最良の方法ではありません。なぜなら、それは柔軟性に欠けるからです。私たちの頭の中の知識はしばしば非アルゴリズム的です。
* 右側には、自然言語のような表現があります。これは最も強力ですが、自動推論には使用できません。

> ✅ 自分の頭の中で知識をどのように表現し、それをノートに変換しているか考えてみてください。記憶を助けるために特に効果的な形式はありますか？

## コンピュータの知識表現の分類

コンピュータの知識表現方法を以下のカテゴリに分類できます：

* **ネットワーク表現**は、私たちの頭の中に相互に関連する概念のネットワークがあるという事実に基づいています。同じネットワークをコンピュータ内でグラフとして再現することができます。これを**セマンティックネットワーク**と呼びます。

1. **オブジェクト-属性-値の三つ組**または**属性-値ペア**。グラフはノードとエッジのリストとしてコンピュータ内で表現できるため、セマンティックネットワークをオブジェクト、属性、値を含む三つ組のリストとして表現できます。例えば、プログラミング言語について次のような三つ組を構築します：

オブジェクト | 属性 | 値
------------|------|-----
Python | is | Untyped-Language
Python | invented-by | Guido van Rossum
Python | block-syntax | indentation
Untyped-Language | doesn't have | type definitions

> ✅ 三つ組を使って他の種類の知識をどのように表現できるか考えてみてください。

2. **階層的表現**は、私たちが頭の中でしばしばオブジェクトの階層を作成するという事実を強調します。例えば、カナリアは鳥であり、すべての鳥には翼があることを知っています。また、カナリアの通常の色や飛行速度についても何らかのアイデアを持っています。

   - **フレーム表現**は、各オブジェクトまたはオブジェクトのクラスを**フレーム**として表現し、それが**スロット**を含む形式に基づいています。スロットには、デフォルト値、値の制限、またはスロットの値を取得するために呼び出すことができる手続きが含まれます。すべてのフレームは、オブジェクト指向プログラミング言語のオブジェクト階層に似た階層を形成します。
   - **シナリオ**は、時間の経過とともに展開する複雑な状況を表現する特別な種類のフレームです。

**Python**

スロット | 値 | デフォルト値 | 範囲 |
--------|----|-------------|------|
名前 | Python | | |
Is-A | Untyped-Language | | |
変数のケース | | CamelCase | |
プログラムの長さ | | | 5-5000行 |
ブロック構文 | Indent | | |

3. **手続き的表現**は、特定の条件が発生したときに実行できるアクションのリストとして知識を表現することに基づいています。
   - **生成規則**は、結論を導き出すためのif-then文です。例えば、医師が「**もし**患者が高熱を持っている**または**血液検査でC反応性タンパク質のレベルが高い場合、**ならば**炎症がある」とする規則を持っているとします。この条件のいずれかに遭遇した場合、炎症についての結論を導き出し、それをさらに推論に使用できます。
   - アルゴリズムは手続き的表現の別の形式と見なすことができますが、知識ベースシステムではほとんど直接使用されることはありません。

4. **論理**は、普遍的な人間の知識を表現する方法としてアリストテレスによって最初に提案されました。
   - **述語論理**は数学的理論としては非常に豊かであるため計算可能ではありません。そのため、通常はPrologで使用されるHorn節のようなサブセットが使用されます。
   - **記述論理**は、*セマンティックウェブ*のような分散知識表現を表現し推論するために使用される論理システムのファミリーです。

## エキスパートシステム

シンボリックAIの初期の成功例の1つが、いわゆる**エキスパートシステム**です。これは、特定の限定された問題領域で専門家として機能するように設計されたコンピュータシステムです。これらは、1人または複数の人間の専門家から抽出された**知識ベース**に基づいており、その上で推論を行う**推論エンジン**を含んでいます。

![人間のアーキテクチャ](../../../../translated_images/arch-human.5d4d35f1bba3ab1cdfda96af2f10b89574eb31e9796d0e3011cd9beda1c35112.ja.png) | ![知識ベースシステムのアーキテクチャ](../../../../translated_images/arch-kbs.3ec5c150b09fa8dadc2beb0931a4983c9e2b03913a89eebcc103b5bb841b0212.ja.png)
---------------------------------------------|------------------------------------------------
人間の神経系の簡略化された構造 | 知識ベースシステムのアーキテクチャ

エキスパートシステムは、人間の推論システムのように構築されています。人間の推論システムには**短期記憶**と**長期記憶**が含まれます。同様に、知識ベースシステムでは以下のコンポーネントを区別します：

* **問題メモリ**: 現在解決中の問題に関する知識を含みます。例えば、患者の体温や血圧、炎症があるかどうかなど。この知識は**静的知識**とも呼ばれます。なぜなら、現在の問題について私たちが知っていることのスナップショット、つまり*問題状態*を含むからです。
* **知識ベース**: 問題領域に関する長期的な知識を表します。これは人間の専門家から手動で抽出され、相談ごとに変わることはありません。これにより、1つの問題状態から別の状態へ移動することが可能になるため、**動的知識**とも呼ばれます。
* **推論エンジン**: 問題状態空間の検索プロセス全体を調整し、必要に応じてユーザーに質問します。また、各状態に適用されるべき適切な規則を見つける責任も負います。

例として、動物の物理的特徴に基づいて動物を特定するエキスパートシステムを考えてみましょう：

![AND-ORツリー](../../../../translated_images/AND-OR-Tree.5592d2c70187f283703c8e9c0d69d6a786eb370f4ace67f9a7aae5ada3d260b0.ja.png)

> 画像: [Dmitry Soshnikov](http://soshnikov.com)

この図は**AND-ORツリー**と呼ばれ、生成規則のセットをグラフィカルに表現したものです。ツリーを描くことは、専門家から知識を抽出する初期段階で役立ちます。コンピュータ内で知識を表現するには、規則を使用する方が便利です：

```
IF the animal eats meat
OR (animal has sharp teeth
    AND animal has claws
    AND animal has forward-looking eyes
) 
THEN the animal is a carnivore
```

各規則の左辺の条件とアクションが、本質적으로オブジェクト-属性-値（OAV）の三つ組であることに気付くでしょう。**作業メモリ**には、現在解決中の問題に対応するOAV三つ組のセットが含まれます。**ルールエンジン**は、条件が満たされている規則を探し、それを適用して新しい三つ組を作業メモリに追加します。

> ✅ 好きなトピックで自分自身のAND-ORツリーを作成してみましょう！

### 順推論と逆推論

上記のプロセスは**順推論**と呼ばれます。これは、作業メモリに利用可能な問題に関する初期データから始まり、次の推論ループを実行します：

1. ターゲット属性が作業メモリに存在する場合 - 停止して結果を出力
2. 現在条件が満たされているすべての規則を探す - **競合セット**を取得
3. **競合解決**を実行 - このステップで実行される規則を1つ選択。競合解決戦略には以下のようなものがあります：
   - 知識ベース内で最初に適用可能な規則を選択
   - ランダムな規則を選択
   - *より具体的な*規則を選択、つまり「左辺」（LHS）で最も多くの条件を満たすもの
4. 選択した規則を適用し、新しい知識を問題状態に挿入
5. ステップ1から繰り返す

しかし、場合によっては、問題に関する知識が空の状態から始まり、結論に到達するために役立つ質問をしたい場合があります。例えば、医療診断を行う際、患者を診断し始める前にすべての医療分析を事前に行うことは通常ありません。むしろ、決定を下す必要があるときに分析を行いたいのです。

このプロセスは**逆推論**を使用してモデル化できます。これは、私たちが見つけようとしている**目標**（ターゲット属性値）によって駆動されます：

1. 目標の値を提供できるすべての規則を選択（つまり、目標が右辺（RHS）にあるもの） - 競合セットを取得
1. この属性に関する規則がない場合、またはユーザーに値を尋ねるべきだとする規則がある場合 - ユーザーに尋ねる。それ以外の場合：
1. 競合解決戦略を使用して、*仮説*として使用する規則を1つ選択 - それを証明しようとする
1. 規則の左辺（LHS）にあるすべての属性について、目標として証明しようとするプロセスを再帰的に繰り返す
1. どの時点でもプロセスが失敗した場合 - ステップ3で別の規則を使用

> ✅ 順推論が適している状況はどのような場合ですか？逆推論はどうでしょうか？

### エキスパートシステムの実装

エキスパートシステムは、さまざまなツールを使用して実装できます：

* 高水準プログラミング言語で直接プログラミングする。この方法は最良のアイデアではありません。なぜなら、知識ベースシステムの主な利点は、知識が推論から分離されていることであり、潜在的には問題領域の専門家が推論プロセスの詳細を理解せずに規則を書くことができるべきだからです。
* **エキスパートシステムシェル**を使用する。これは、特定の知識表現言語を使用して知識を入力するために設計されたシステムです。

## ✍️ 演習: 動物推論

順推論と逆推論エキスパートシステムを実装する例については、[Animals.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/Animals.ipynb) を参照してください。
> **注**: この例は非常にシンプルで、エキスパートシステムがどのようなものかのイメージを示しているだけです。このようなシステムを作り始めると、ルールが200以上に達する頃から、ようやくいくつかの「知的な」振る舞いを感じられるようになります。ある時点で、ルールがあまりにも複雑になり、すべてを頭の中で把握するのが難しくなります。そして、この段階でシステムがなぜ特定の決定を下したのか疑問に思うことがあるかもしれません。しかし、知識ベースシステムの重要な特徴は、どのような決定がどのように行われたのかを常に正確に「説明」できるという点です。
## オントロジーとセマンティックウェブ

20世紀末、インターネット上のリソースに知識表現を用いて注釈を付け、非常に具体的なクエリに対応するリソースを見つけられるようにする試みがありました。この動きは**セマンティックウェブ**と呼ばれ、いくつかの概念に基づいていました：

- **[記述論理](https://en.wikipedia.org/wiki/Description_logic)** (DL) に基づく特別な知識表現。これはフレーム知識表現に似ていますが、オブジェクトとそのプロパティの階層を構築し、形式的な論理的意味論と推論を持っています。DLには、表現力と推論のアルゴリズム的複雑さのバランスを取るためのさまざまな種類があります。
- 分散型の知識表現。すべての概念がグローバルなURI識別子で表され、インターネット全体にまたがる知識階層を作成することが可能になります。
- 知識記述のためのXMLベースの言語群：RDF（Resource Description Framework）、RDFS（RDF Schema）、OWL（Ontology Web Language）。

セマンティックウェブの中心的な概念は、**オントロジー**という概念です。これは、ある問題領域を形式的な知識表現を用いて明示的に仕様化したものを指します。最も単純なオントロジーは、問題領域内のオブジェクトの階層だけで構成されることもありますが、より複雑なオントロジーには推論に使用できるルールが含まれます。

セマンティックウェブでは、すべての表現がトリプレットに基づいています。各オブジェクトと各関係はURIによって一意に識別されます。例えば、このAIカリキュラムが2022年1月1日にDmitry Soshnikovによって開発されたという事実を述べたい場合、以下のようなトリプレットを使用できます：

<img src="images/triplet.png" width="30%"/>

```
http://github.com/microsoft/ai-for-beginners http://www.example.com/terms/creation-date “Jan 13, 2007”
http://github.com/microsoft/ai-for-beginners http://purl.org/dc/elements/1.1/creator http://soshnikov.com
```

> ✅ ここで、`http://www.example.com/terms/creation-date` と `http://purl.org/dc/elements/1.1/creator` は、*作成者* や *作成日* の概念を表現するための、よく知られた普遍的に受け入れられているURIです。

より複雑なケースでは、作成者のリストを定義したい場合、RDFで定義されたデータ構造を使用できます。

<img src="images/triplet-complex.png" width="40%"/>

> 上記の図は [Dmitry Soshnikov](http://soshnikov.com) によるものです。

セマンティックウェブの構築の進展は、検索エンジンや自然言語処理技術の成功によってある程度遅れました。これらの技術は、テキストから構造化データを抽出することを可能にします。しかし、いくつかの分野では、オントロジーや知識ベースを維持するための重要な努力が続けられています。注目すべきプロジェクトをいくつか挙げます：

* [WikiData](https://wikidata.org/) は、Wikipediaに関連付けられた機械可読な知識ベースのコレクションです。データの多くは、Wikipediaページ内の構造化コンテンツである *InfoBoxes* から抽出されています。SPARQLというセマンティックウェブ用の特別なクエリ言語を使って、[クエリ](https://query.wikidata.org/)を実行できます。以下は、人間の間で最も一般的な目の色を表示するサンプルクエリです：

```sparql
#defaultView:BubbleChart
SELECT ?eyeColorLabel (COUNT(?human) AS ?count)
WHERE
{
  ?human wdt:P31 wd:Q5.       # human instance-of homo sapiens
  ?human wdt:P1340 ?eyeColor. # human eye-color ?eyeColor
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
GROUP BY ?eyeColorLabel
```

* [DBpedia](https://www.dbpedia.org/) は、WikiDataに似た別の取り組みです。

> ✅ 独自のオントロジーを構築したり、既存のオントロジーを開くことに興味がある場合、[Protégé](https://protege.stanford.edu/) という優れたビジュアルオントロジーエディタがあります。ダウンロードするか、オンラインで使用してみてください。

<img src="images/protege.png" width="70%"/>

*Web ProtégéエディタがRomanov家系のオントロジーを開いている様子。Dmitry Soshnikovによるスクリーンショット*

## ✍️ 演習: 家族オントロジー

[FamilyOntology.ipynb](https://github.com/Ezana135/AI-For-Beginners/blob/main/lessons/2-Symbolic/FamilyOntology.ipynb) を参照して、セマンティックウェブ技術を使用して家族関係を推論する例を確認してください。一般的なGEDCOM形式で表現された家系図と家族関係のオントロジーを使用して、特定の個人セットに対するすべての家族関係のグラフを構築します。

## Microsoft Concept Graph

多くの場合、オントロジーは慎重に手作業で作成されます。しかし、自然言語テキストなどの非構造化データからオントロジーを**抽出**することも可能です。

そのような試みの一つがMicrosoft Researchによって行われ、[Microsoft Concept Graph](https://blogs.microsoft.com/ai/microsoft-researchers-release-graph-that-helps-machines-conceptualize/?WT.mc_id=academic-77998-cacaste)が生まれました。

これは、`is-a` 継承関係を使用してグループ化されたエンティティの大規模なコレクションです。「Microsoftとは何か？」という質問に対して、「会社（確率0.87）であり、ブランド（確率0.75）」のような答えを提供します。

このグラフは、REST APIとして、またはすべてのエンティティペアをリストした大規模なダウンロード可能なテキストファイルとして利用可能です。

## ✍️ 演習: コンセプトグラフ

[MSConceptGraph.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/MSConceptGraph.ipynb) ノートブックを試して、Microsoft Concept Graphを使用してニュース記事をいくつかのカテゴリにグループ化する方法を確認してください。

## 結論

現在、AIはしばしば*機械学習*や*ニューラルネットワーク*の同義語と見なされています。しかし、人間は明示的な推論も行います。これは、ニューラルネットワークでは現在扱われていないものです。実世界のプロジェクトでは、説明が必要なタスクや、システムの動作を制御可能な方法で変更する必要があるタスクを実行するために、明示的な推論が依然として使用されています。

## 🚀 チャレンジ

このレッスンに関連するFamily Ontologyノートブックでは、他の家族関係を試す機会があります。家系図内の人々の間に新しいつながりを発見してみてください。

## [講義後のクイズ](https://ff-quizzes.netlify.app/en/ai/quiz/4)

## 復習と自己学習

インターネットで調査を行い、人間が知識を定量化し、体系化しようとした分野を発見してください。ブルームの分類法を調べ、歴史を遡って、人間がどのようにして世界を理解しようとしたかを学びましょう。リンネによる生物の分類法の作成や、ドミトリ・メンデレーエフによる化学元素の記述と分類の方法を観察してください。他にどのような興味深い例が見つかるでしょうか？

**課題**: [オントロジーを構築する](assignment.md)

**免責事項**:  
この文書は、AI翻訳サービス [Co-op Translator](https://github.com/Azure/co-op-translator) を使用して翻訳されています。正確性を期すよう努めておりますが、自動翻訳には誤りや不正確な表現が含まれる可能性があります。原文（元の言語で記載された文書）が信頼できる情報源とみなされるべきです。重要な情報については、専門の人間による翻訳を推奨します。本翻訳の使用に起因する誤解や誤認について、当方は一切の責任を負いません。