<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1ddf651d7681b4449f9d09ea3b17911e",
  "translation_date": "2025-08-25T23:23:40+00:00",
  "source_file": "lessons/6-Other/23-MultiagentSystems/README.md",
  "language_code": "bg"
}
-->
# Мултиагентни системи

Един от възможните начини за постигане на интелигентност е така нареченият **емергентен** (или **синергетичен**) подход, който се основава на факта, че комбинираното поведение на много относително прости агенти може да доведе до по-сложно (или интелигентно) поведение на системата като цяло. Теоретично това се базира на принципите на [Колективната интелигентност](https://en.wikipedia.org/wiki/Collective_intelligence), [Емергентизма](https://en.wikipedia.org/wiki/Global_brain) и [Еволюционната кибернетика](https://en.wikipedia.org/wiki/Global_brain), които твърдят, че системи от по-високо ниво придобиват някаква добавена стойност, когато са правилно комбинирани от системи от по-ниско ниво (така нареченият *принцип на метасистемния преход*).

## [Тест преди лекцията](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/123)

Направлението на **мултиагентните системи** се появява в изкуствения интелект през 90-те години на миналия век като отговор на растежа на интернет и разпределените системи. Един от класическите учебници по изкуствен интелект, [Artificial Intelligence: A Modern Approach](https://en.wikipedia.org/wiki/Artificial_Intelligence:_A_Modern_Approach), разглежда класическия изкуствен интелект от гледна точка на мултиагентните системи.

Централно за мултиагентния подход е понятието **агент** – субект, който съществува в някаква **среда**, която може да възприема и върху която може да въздейства. Това е много широка дефиниция и може да има много различни видове и класификации на агентите:

* Според способността им да разсъждават:
   - **Реактивни** агенти обикновено имат поведение от типа заявка-отговор
   - **Делиберативни** агенти използват някакъв вид логическо разсъждение и/или способности за планиране
* Според мястото, където агентът изпълнява своя код:
   - **Статични** агенти работят на определен мрежов възел
   - **Мобилни** агенти могат да преместват своя код между мрежови възли
* Според поведението им:
   - **Пасивни агенти** нямат конкретни цели. Такива агенти могат да реагират на външни стимули, но няма да инициират действия сами.
   - **Активни агенти** имат цели, които преследват
   - **Когнитивни агенти** включват сложно планиране и разсъждение

Мултиагентните системи днес се използват в редица приложения:

* В игрите много герои, които не са играчи, използват някакъв вид изкуствен интелект и могат да се считат за интелигентни агенти
* Във видеопродукцията, рендирането на сложни 3D сцени, които включват тълпи, обикновено се извършва чрез мултиагентна симулация
* В моделирането на системи мултиагентният подход се използва за симулиране на поведението на сложен модел. Например, мултиагентният подход е успешно използван за прогнозиране на разпространението на COVID-19 по света. Подобен подход може да се използва за моделиране на трафика в града и за наблюдение на реакцията му към промени в правилата за движение.
* В сложни автоматизирани системи всяко устройство може да действа като независим агент, което прави цялата система по-малко монолитна и по-устойчива.

Няма да отделяме много време за задълбочено разглеждане на мултиагентните системи, но ще разгледаме един пример за **мултиагентно моделиране**.

## NetLogo

[NetLogo](https://ccl.northwestern.edu/netlogo/) е среда за мултиагентно моделиране, базирана на модифицирана версия на програмния език [Logo](https://en.wikipedia.org/wiki/Logo_(programming_language)). Този език е разработен за обучение на деца в програмиране и позволява управление на агент, наречен **костенурка**, който може да се движи и да оставя следа. Това позволява създаването на сложни геометрични фигури, което е много визуален начин за разбиране на поведението на агент.

В NetLogo можем да създадем много костенурки с командата `create-turtles`. След това можем да командваме всички костенурки да извършат някакви действия (в примера по-долу – да се придвижат напред с 10 точки):

```
create-turtles 10
ask turtles [
  forward 10
]
```

Разбира се, не е интересно, когато всички костенурки правят едно и също нещо, затова можем да `ask` групи от костенурки, например тези, които са в близост до определена точка. Можем също така да създаваме костенурки от различни *породи* с командата `breed [cats cat]`. Тук `cat` е името на породата и трябва да посочим както единствено, така и множествено число, защото различни команди използват различни форми за яснота.

> ✅ Няма да се задълбочаваме в изучаването на езика NetLogo – можете да посетите отличния ресурс [Beginner's Interactive NetLogo Dictionary](https://ccl.northwestern.edu/netlogo/bind/), ако искате да научите повече.

Можете да [изтеглите](https://ccl.northwestern.edu/netlogo/download.shtml) и инсталирате NetLogo, за да го изпробвате.

### Библиотека с модели

Едно от страхотните неща в NetLogo е, че съдържа библиотека с работещи модели, които можете да изпробвате. Отидете на **File → Models Library**, където ще намерите много категории модели, от които да избирате.

<img alt="NetLogo Models Library" src="images/NetLogo-ModelLib.png" width="60%"/>

> Снимка на библиотеката с модели от Дмитрий Сошников

Можете да отворите един от моделите, например **Biology → Flocking**.

### Основни принципи

След като отворите модела, ще бъдете отведени до основния екран на NetLogo. Ето примерен модел, който описва популацията на вълци и овце, при наличието на ограничени ресурси (трева).

![NetLogo Main Screen](../../../../../translated_images/NetLogo-Main.32653711ec1a01b3cab22ec0b148e64193d0b979b055285bef329d5e3d6958c5.bg.png)

> Снимка от Дмитрий Сошников

На този екран можете да видите:

* Секцията **Interface**, която съдържа:
  - Основното поле, където живеят всички агенти
  - Различни контроли: бутони, плъзгачи и др.
  - Графики, които можете да използвате за показване на параметри на симулацията
* Раздела **Code**, който съдържа редактора, където можете да пишете програми на NetLogo

В повечето случаи интерфейсът ще има бутон **Setup**, който инициализира състоянието на симулацията, и бутон **Go**, който стартира изпълнението. Те се обработват от съответните хендлъри в кода, които изглеждат така:

```
to go [
...
]
```

Светът на NetLogo се състои от следните обекти:

* **Агенти** (костенурки), които могат да се движат по полето и да извършват действия. Можете да командвате агентите, като използвате синтаксиса `ask turtles [...]`, а кодът в скобите се изпълнява от всички агенти в *режим на костенурка*.
* **Пачове** са квадратни области на полето, върху които живеят агентите. Можете да се обръщате към всички агенти на един и същ пач или да променяте цветовете и някои други свойства на пачовете. Можете също така да `ask patches` да извършат нещо.
* **Наблюдател** е уникален агент, който контролира света. Всички хендлъри на бутони се изпълняват в *режим на наблюдател*.

> ✅ Красотата на мултиагентната среда е, че кодът, който се изпълнява в режим на костенурка или пач, се изпълнява едновременно от всички агенти паралелно. Така, като напишете малко код и програмирате поведението на отделен агент, можете да създадете сложно поведение на симулационната система като цяло.

### Флокиране

Като пример за мултиагентно поведение, нека разгледаме **[флокиране](https://en.wikipedia.org/wiki/Flocking_(behavior))**. Флокирането е сложен модел, който много прилича на начина, по който летят ята птици. Наблюдавайки ги, може да си помислите, че следват някакъв колективен алгоритъм или че притежават форма на *колективна интелигентност*. Въпреки това, това сложно поведение възниква, когато всеки отделен агент (в този случай *птица*) наблюдава само други агенти на кратко разстояние от него и следва три прости правила:

* **Подравняване** – насочва се към средната посока на съседните агенти
* **Кохезия** – опитва се да се насочи към средната позиция на съседите (*дългосрочно привличане*)
* **Разделяне** – когато се приближи твърде много до други птици, се опитва да се отдалечи (*краткосрочно отблъскване*)

Можете да стартирате примера за флокиране и да наблюдавате поведението. Можете също така да регулирате параметри, като *степен на разделяне* или *обхват на видимост*, който определя колко далеч може да вижда всяка птица. Обърнете внимание, че ако намалите обхвата на видимост до 0, всички птици стават слепи и флокирането спира. Ако намалите разделянето до 0, всички птици се събират в права линия.

> ✅ Превключете към раздела **Code** и вижте къде трите правила на флокиране (подравняване, кохезия и разделяне) са имплементирани в кода. Обърнете внимание как се отнасяме само към агентите, които са в полезрението.

### Други модели за разглеждане

Има още няколко интересни модела, с които можете да експериментирате:

* **Art → Fireworks** показва как фойерверк може да се разглежда като колективно поведение на отделни огнени струи
* **Social Science → Traffic Basic** и **Social Science → Traffic Grid** показват модел на градски трафик в 1D и 2D мрежа със или без светофари. Всяка кола в симулацията следва следните правила:
   - Ако пространството пред нея е празно – ускорява (до определена максимална скорост)
   - Ако вижда препятствие отпред – спира (и можете да регулирате колко далеч може да вижда шофьорът)
* **Social Science → Party** показва как хората се групират по време на коктейлно парти. Можете да намерите комбинация от параметри, които водят до най-бързо увеличаване на щастието на групата.

Както можете да видите от тези примери, мултиагентните симулации могат да бъдат доста полезен начин за разбиране на поведението на сложна система, състояща се от индивиди, които следват една и съща или подобна логика. Те могат също така да се използват за управление на виртуални агенти, като [NPCs](https://en.wikipedia.org/wiki/NPC) в компютърни игри или агенти в 3D анимирани светове.

## Делиберативни агенти

Описаните по-горе агенти са много прости и реагират на промени в средата, използвайки някакъв вид алгоритъм. Такива агенти са **реактивни агенти**. Въпреки това, понякога агентите могат да разсъждават и планират своите действия, в който случай те се наричат **делиберативни**.

Типичен пример би бил личен агент, който получава инструкция от човек да резервира ваканционен тур. Да предположим, че има много агенти, които живеят в интернет и могат да му помогнат. Той трябва да се свърже с други агенти, за да провери кои полети са налични, какви са цените на хотелите за различни дати и да се опита да договори най-добрата цена. Когато планът за ваканцията е завършен и потвърден от собственика, той може да продължи с резервацията.

За да направят това, агентите трябва да **комуникират**. За успешна комуникация те се нуждаят от:

* Някакви **стандартни езици за обмен на знания**, като [Knowledge Interchange Format](https://en.wikipedia.org/wiki/Knowledge_Interchange_Format) (KIF) и [Knowledge Query and Manipulation Language](https://en.wikipedia.org/wiki/Knowledge_Query_and_Manipulation_Language) (KQML). Тези езици са проектирани въз основа на [теорията на речевите актове](https://en.wikipedia.org/wiki/Speech_act).
* Тези езици трябва също така да включват **протоколи за преговори**, базирани на различни **типове аукциони**.
* **Обща онтология**, която да използват, за да се отнасят към едни и същи концепции, знаейки тяхната семантика
* Начин за **откриване** на това, което различните агенти могат да правят, също базиран на някакъв вид онтология

Делиберативните агенти са много по-сложни от реактивните, защото не само реагират на промените в средата, но и трябва да могат да *инициират* действия. Една от предложените архитектури за делиберативни агенти е така нареченият агент с Вярвания-Желания-Намерения (BDI):

* **Вярвания** формират набор от знания за средата на агента. Те могат да бъдат структурирани като база от знания или набор от правила, които агентът може да приложи към конкретна ситуация в средата.
* **Желания** определят какво иска да направи агентът, т.е. неговите цели. Например, целта на личния асистент по-горе е да резервира тур, а целта на хотелския агент е да максимизира печалбата.
* **Намерения** са конкретни действия, които агентът планира, за да постигне целите си. Действията обикновено променят средата и предизвикват комуникация с други агенти.

Има някои платформи, достъпни за изграждане на мултиагентни системи, като [JADE](https://jade.tilab.com/). [Тази статия](https://arxiv.org/ftp/arxiv/papers/2007/2007.08961.pdf) съдържа преглед на мултиагентните платформи, заедно с кратка история на мултиагентните системи и различните им сценарии на употреба.

## Заключение

Мултиагентните системи могат да приемат много различни форми и да се използват в множество приложения. 
Те обикновено се фокусират върху по-простото поведение на отделния агент и постигат по-сложно поведение на цялостната система благодарение на **синергетичния ефект**.

## 🚀 Предизвикателство

Приложете този урок в реалния свят и се опитайте да концептуализирате мултиагентна система, която може да реши даден проблем. Как, например, би могла мултиагентна система да оптимизира маршрута на училищен автобус? Как би могла да работи в пекарна?

## [Тест след лекцията](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/223)

## Преглед и самостоятелно обучение

Прегледайте използването на този тип системи в индустрията. Изберете област, като например производството или индустрията на видеоигрите, и открийте как мултиагентните системи могат да се използват за решаване на уникални проблеми.

## [Задача с NetLogo](assignment.md)

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI услуга за превод [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи може да съдържат грешки или неточности. Оригиналният документ на неговия роден език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Не носим отговорност за недоразумения или погрешни интерпретации, произтичащи от използването на този превод.